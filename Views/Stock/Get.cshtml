@model ProjectAbc.Classes.Stock.Model.Organization;
@using Newtonsoft.Json;
@using ProjectAbc.Classes.Stock.Model;

@{
    ViewData["Title"] = "Get";
    Layout = "~/Views/Layout.cshtml";
}
<head><script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script></head>

<script>    
    function draw_Chart(title_x_axis, chart_container, _data) {
        var data = new google.visualization.DataTable();
        data.addColumn('datetime', 'Date');
        data.addColumn('number', 'Price');
        
        var jsonData = [];
        for (var a = 0; a < _data.length; a++) {
            var dt = new Date(_data[a].Key);
            var val = _data[a].Value;
            jsonData.push([new Date(dt.getFullYear(), dt.getMonth(), dt.getDate(), dt.getHours(), dt.getMinutes(), dt.getSeconds()), val]);
        }
        data.addRows(jsonData);
        var options = {
            height: 240,
            title: title_x_axis,
            backgroundColor: '#f1f8e9'
        };

        var chart = new google.visualization.LineChart(document.getElementById(chart_container));
        chart.draw(data, options);
    }
</script>

<h2>Stock</h2>
<div class="row" id="chart_today"></div>
<br />
<div class="row" id="chart"></div>

<script>
    google.charts.load('current', { packages: ['corechart', 'line'] });
    google.charts.setOnLoadCallback(function () { draw_Chart('Stock History Price Chart', 'chart', @Html.Raw(@Model.Get_Stock_DateTime_Price((int)Organization_Stock.Stocks))); });
    google.charts.setOnLoadCallback(function () { draw_Chart('Stock Price Chart for Today', 'chart_today', @Html.Raw(@Model.Get_Stock_DateTime_Price((int)Organization_Stock.Stocks_Today))); });
</script>
@**@
<div>
    <h4>get stock</h4>
    <p>@Model.Get_Stock_DateTime_Price((int)Organization_Stock.Stocks)</p>
</div>

<div>
    <h4>get stock today</h4>
    <p>@Model.Get_Stock_DateTime_Price((int)Organization_Stock.Stocks_Today)</p>
</div>

<div><h4>Company</h4>
    <p>@JsonConvert.SerializeObject(Model.Company)</p></div>

<div>
    <h4>Book</h4>
    <p>@JsonConvert.SerializeObject(Model.Book)</p>
</div>

<div>
    <h4>Stock</h4>
    <p>@JsonConvert.SerializeObject(Model.Stocks)</p>
</div>

<div>
    <h4>Stocks_Today</h4>
    <p>@JsonConvert.SerializeObject(Model.Stocks_Today)</p>
</div>
